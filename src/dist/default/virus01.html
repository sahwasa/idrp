<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>감염병 위험도 플랫폼</title>
  <link rel="icon" href="../../images/favicon.ico" type="image/x-icon" />
  <link rel="stylesheet" href="../../plugins/axicon/axicon.min.css" />
  <link rel="stylesheet" href="../../plugins/jquery-ui/themes/base/jquery-ui.min.css" />
  <link rel="stylesheet" href="../../plugins/jqueryui-timepicker-addon/dist/jquery-ui-timepicker-addon.min.css">
  <link rel="stylesheet" href="../../plugins/jqueryui-timepicker-addon/dist/jquery.datetimepicker.css">
  <link rel="stylesheet" href="../../plugins/jqGrid/css/ui.jqgrid.css">
  <link rel="stylesheet" href="../../plugins/slick/slick.css">
  <link rel="stylesheet" href="../../css/merge.css">
</head>

<body>
  <!-- Header -->
<header class="flex_wrap f_sb">
  <h1 class="logo">
    <a href="info01.html">
      <img src="../../images/img_h1_title.png" alt="감염병 위험도 플랫폼">
    </a>
  </h1>
  <ul class="gnb flex_wrap f_sb pc_con" role="navigation">
    <li>
      <a class="on" href="info01.html">공간정보 모니터링</a>
    </li>
    <li>
      <a href="virus01.html">바이러스 모니터링</a>
    </li>
    <li>
      <a href="stat01.html">공간정보 통계분석</a>
      <ul class="sub">
        <li><a href="stat01.html">온도</a></li>
        <li><a href="#">습도</a></li>
        <li><a href="#">이산화탄소</a></li>
        <li><a href="#">변위</a></li>
        <li><a href="#">열</a></li>
        <li><a href="#">기침</a></li>
        <li><a href="#">바이러스</a></li>
        <li><a href="#">경보</a></li>
      </ul>
    </li>
  </ul>
  <div class="m_con">
    <a href="#" class="m_con allMenuOpen">전체메뉴 열기</a>
    <div id="allMenuBox" tabindex="0" class="ins_allMenuBox active">
      <div class="util_wrap flex_wrap f_sb ai_c">
        <ul class="ai_c">
          <li>
            <span><b>관리자</b>님</span>
            <span><a href="#" class="util user">내정보</a></span>
          </li>
          <li><a href="#" class="util log">로그인&sol;로그아웃</a></li>
        </ul>
        <a onclick="location.href='../admin/service01.html'" href="#" class="link flex_wrap ai_c">
          <span>모니터링 사이트</span>
          <img src="../../images/ico_blank.png" alt="모니터링 사이트 이동 아이콘">
        </a>
      </div>
      <ul class="m_gnb m_con" role="navigation">
        <li><a class="on" href="info01.html">공간정보 모니터링</a></li>
        <li><a href="virus01.html">바이러스 모니터링</a></li>
        <li>
          <a href="#">공간정보 통계분석</a>
          <ul class="sub">
            <li><a href="stat01.html">온도</a></li>
            <li><a href="#">습도</a></li>
            <li><a href="#">이산화탄소</a></li>
            <li><a href="#">변위</a></li>
            <li><a href="#">열</a></li>
            <li><a href="#">기침</a></li>
            <li><a href="#">바이러스</a></li>
            <li><a href="#">경보</a></li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
  <div class="flex_wrap pc_con">
    <div class="as_c util_wrap flex_wrap f_e">
      <ul>
        <li>
          <span><b>관리자</b>님</span>
          <span><a href="#" class="util user">내정보</a></span>
        </li>
        <li><a href="#" class="util log">로그인&sol;로그아웃</a></li>
      </ul>
    </div>
    <a onclick="location.href='../admin/service01.html'" href="#" class="as_c link flex_wrap">
      <span>플랫폼관리자사이트</span>
      <img src="../../images/ico_blank.png" alt="플랫폼 관리자 사이트 이동 아이콘">
    </a>
  </div>
</header>
<!-- // Header -->
  <!-- Contents -->
  <div class="contents platform virus">
    <div class="flex_wrap f_sb">
      <div class="monitoring_wrap">
        <div class="box">
          <div class="drawarea_wrap" style="height:470px;">
            <div id="models"><canvas></canvas></div>
            <div class="legend">
              <img src="../../images/img_sensor_legend.png" alt="범례">
            </div>
          </div>
        </div>
        <div class="box">
          <ul class="info_wrap">
            <li>
              <div class="tit_info_wrap flex_wrap f_sb">
                <h3 class="tit03_h3">발생자 정보</h3>
                <span class="tit_date as_c">2023년 06월 19일</span>
              </div>
              <div class="stage_area f_c flex_wrap">
                <img src="../../images/img_virussensor.png" alt="바이러스 센서 이미지">
                <ul>
                  <li><b>코로나</b><span><span class="font_b">2</span>건 / 10회</span></li>
                  <li><b>인플루엔자</b><span><span class="font_b">1</span>건 / 10회</span></li>
                </ul>
              </div>
            </li>
          </ul>
        </div>
      </div>
      <div class="situchart_wrap">
        <div class="box">
          <h3 class="tit02_h3">측정소 &sol; 장비 현황 표시</h3>
          <div class="tbl_wrap">
            <table id="jqGridVirus_01" class="jq-grid"></table>
          </div>
        </div>
        <div class="situation_wrap box">
          <h3 class="tit02_h3">검사결과 확인</h3>
          <div class="tbl_wrap">
            <table id="jqGridVirus_02" class="jq-grid"></table>
          </div>
        </div>
        <div class="box">
          <div>
            <canvas id="chartVirus" height="185"></canvas>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- // Contents -->
  <!-- Footer -->
<div class="footer flex_wrap f_sb">
  <div class="flex_wrap">
    <img src="../../images/ico_call.png" style="height:23px;align-self:center;" alt="플랫폼 관리자 연락처 아이콘">
    <span>플랫폼 관리자  02-2624-3555</span>
  </div>
  <copy>Copyright &copy; 2023 . All rights reserved.</copy>
</div>
<!-- // Footer -->
  <script src="../../plugins/jquery/dist/jquery.min.js"></script>
<script src="../../plugins/jquery-ui/jquery-ui.min.js"></script>
<script src="../../plugins/jquery-ui/ui/i18n/datepicker-ko.js"></script>
<script src="../../plugins/jqueryui-timepicker-addon/dist/jquery-ui-timepicker-addon.min.js"></script>
<script src="../../plugins/jqueryui-timepicker-addon/dist/jquery.datetimepicker.full.min.js"></script>
<script src="../../js/Chart.bundle.js"></script>
<script src="../../plugins/jqGrid/js/jquery.jqGrid.js"></script>
<script src="../../plugins/jqGrid/js/i18n/grid.locale-kr.js"></script>
<script src="../../plugins/slick/slick.min.js"></script>
<script src="../../js/file_attach.js"></script>
<script src="../../js/ui_common.js"></script>

  <script>
    // 데이터
    // 차트
    var chartData = {
      labels: ["0", "2", "4", "6", "8", "10", "12", "14", "16", "18", "20", "24"],
      datasets: [{
        label: '2019년',
        backgroundColor: '#30c1b75c',
        borderSkipped: false,
        data: [0, 0, 0, 0, 2, 0, 0, 0]
      }
      ]
    };
    var chartOption = {
      layout: {
        padding: {
          top: 20
        }
      },
      responsive: true,
      maintainAspectRatio: false,
      plugins: {
        legend: false
      }
    };
    // 그리드
    var data01 = [
      { "d0": "대전-33", "d1": "유성구 가정동 123", "d2": "면역진단", "d3": "", "d4": "검사<br class='m_con'>요청" },
      { "d0": "대전-33", "d1": "유성구 가정동 123", "d2": "면역진단", "d3": "", "d4": "검사<br class='m_con'>요청" },
      { "d0": "대전-33", "d1": "유성구 가정동 123", "d2": "면역진단", "d3": "", "d4": "검사<br class='m_con'>요청" },
      { "d0": "대전-33", "d1": "유성구 가정동 123", "d2": "면역진단", "d3": "", "d4": "검사<br class='m_con'>요청" }
    ]
    var data02 = [
      { "d0": "1", "d1": "2023.5.15", "d2": "09:00", "d3": "10:00	", "d4": "", "d5": "보기" },
      { "d0": "1", "d1": "2023.5.15", "d2": "09:00", "d3": "10:00	", "d4": "", "d5": "보기" },
      { "d0": "1", "d1": "2023.5.15", "d2": "09:00", "d3": "10:00	", "d4": "", "d5": "보기" },
      { "d0": "1", "d1": "2023.5.15", "d2": "09:00", "d3": "10:00	", "d4": "", "d5": "보기" },
      { "d0": "1", "d1": "2023.5.15", "d2": "09:00", "d3": "10:00	", "d4": "", "d5": "보기" },
      { "d0": "1", "d1": "2023.5.15", "d2": "09:00", "d3": "10:00	", "d4": "", "d5": "보기" },
    ]


    // 함수
    // 차트
    function createChart(ctx, type) {
      return new Chart(ctx, {
        type: type,
        data: chartData,
        options: chartOption
      });
    }
    // 그리드 내 버튼
    function btnRequest(cellvalue) {
      var str = "";
      str += "<button type='button' class='btn_m btn_mintline'>" + cellvalue + "</button>";
      return str;
    }
    function stageWrap() {
      var str = "";
      str += `<ul class="stage_wrap stage_wrap_s equip">
        <li class="on">전원</li>
        <li class="on">대기중</li>
        <li class="on">검사중<p>[STEP = 3]</p></li>
      </ul>`
      return str;
    }
    function resultWrap() {
      var str = "";
      str += `<b>Influenza</b><span class="result_badge positive">양성</span><br class="m_con"><span class="pc_con">  /  </span><b>COVID-19</b><span class="result_badge negative">음성</span>`
      return str;
    }
    function btnMore(cellvalue) {
      var str = "";
      str += "<button type='button' class='btn_m btn_lightgrayline'>" + cellvalue + "</button>";
      return str;
    }


    // 차트
    createChart(document.getElementById('chartVirus').getContext('2d'), 'line');
    // 그리드
    $("#jqGridVirus_01").jqGrid({
      data: data01,
      datatype: "local",
      colModel: [
        { label: 'i-Watcher 정보', name: 'd0', width: 20, align: 'center' },
        { label: '위치', name: 'd1', width: 30, align: 'center' },
        { label: '진단 종류	', name: 'd2', width: 15, align: 'center' },
        { label: '장비 현황', name: 'd3', align: 'center', width: 40, formatter: stageWrap },
        { label: '검사 요청', name: 'd4', align: 'center', width: 15, formatter: btnRequest }
      ],
      height: 120,
      rowTotal: -1,
      jsonReader: { repeatitems: false },
      shrinkToFit: true,
      autoWidth: true
    })
    $("#jqGridVirus_02").jqGrid({
      data: data02,
      datatype: "local",
      colModel: [
        { label: '검사회차', name: 'd0', width: 10, align: 'center' },
        { label: '날짜', name: 'd1', width: 20, align: 'center' },
        { label: '시작', name: 'd2', width: 10, align: 'center' },
        { label: '종료', name: 'd3', width: 10, align: 'center' },
        { label: '결과', name: 'd4', width: 40, align: 'center', formatter: resultWrap },
        { label: '상세', name: 'd5', width: 10, align: 'center', formatter: btnMore }
      ],
      height: 200,
      rowTotal: -1,
      jsonReader: { repeatitems: false },
      shrinkToFit: true,
      autoWidth: true
    })
    jqgridInit();
  </script>
</body>

</html>